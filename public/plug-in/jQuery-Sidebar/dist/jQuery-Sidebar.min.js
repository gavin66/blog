/*! jQuery-Sidebar - v1.1.0 - 2016-02-11
* https://github.com/gavin66/jQuery-Sidebar
* Copyright (c) 2016 ; Licensed MIT */
!function(a){"use strict";a.jqSidebar=function(b){function c(a){"left"===a&&p&&(i&&u&&r?k?e("left"):m&&d("left"):i?e("left"):d("left")),"right"===a&&x&&(j&&C&&z?l?e("right"):n&&d("right"):j?e("right"):d("right"))}function d(a){var b=1;p&&"left"===a&&("sidebar-turn"!==h.rightMode&&(j&&(b=400),e("right")),m?f("turn",[r,u],"left",v,function(){k=!0,m=!1}):"container-offset"===h.leftMode?setTimeout(function(){f("offset",[o],"",q,function(){i=!0})},b):"sidebar-offset"===h.leftMode&&setTimeout(function(){f("offset",[p],"",q,function(){i=!0})},b)),x&&"right"===a&&("sidebar-turn"!==h.leftMode&&(i&&(b=400),e("left")),n?f("turn",[z,C],"right",D,function(){l=!0,n=!1}):"container-offset"===h.rightMode?setTimeout(function(){f("offset",[o],"","-"+y,function(){j=!0})},b):"sidebar-offset"===h.rightMode&&setTimeout(function(){f("offset",[x],"","-"+y,function(){j=!0})},b))}function e(a){p&&"left"===a&&(k?f("turn",[u,r],"left",s,function(){k=!1,m=!0}):"container-offset"===h.leftMode?f("offset",[o],"","0px",function(){i=!1}):"sidebar-offset"===h.leftMode&&f("offset",[p],"","0px",function(){i=!1})),x&&"right"===a&&(l?f("turn",[C,z],"right",A,function(){l=!1,n=!0}):"container-offset"===h.rightMode?f("offset",[o],"","0px",function(){j=!1}):"sidebar-offset"===h.rightMode&&f("offset",[x],"","0px",function(){j=!1}))}function f(a,b,c,d,e){"turn"===a?"left"===c?b[0].stop().fadeOut(200,function(){o.dequeue().animate({marginLeft:d},300),p.stop().animate({width:d},300,function(){b[1].stop().fadeIn(200,function(){e()})})}):"right"===c&&b[0].stop().fadeOut(200,function(){o.dequeue().animate({marginRight:d},300),x.stop().animate({width:d},300,function(){b[1].stop().fadeIn(200,function(){e()})})}):"offset"===a&&(b[0].css("transform","translate( "+d+" )"),e())}function g(a,b){a.stopPropagation(),a.preventDefault()}var h=a.extend({leftMode:"container-offset",rightMode:"container-offset",leftTurnShow:"jqsb-left-bg",rightTurnShow:"jqsb-right-bg",sideActive:"",autoClose:!0},b),i="left"===h.sideActive?1:0,j="right"===h.sideActive?1:0,k=!1,l=!1,m=!1,n=!1;if(a(".jqsb-container").length)var o=a(".jqsb-container");if(a(".jqsb-left").length)var p=a(".jqsb-left"),q=p.css("width");if(a(".jqsb-left-sm").length)var r=a(".jqsb-left-sm"),s=r.width(),t=r.css("width");if(a(".jqsb-left-bg").length)var u=a(".jqsb-left-bg"),v=u.width(),w=u.css("width");if(a(".jqsb-right").length)var x=a(".jqsb-right"),y=x.css("width");if(a(".jqsb-right-sm").length)var z=a(".jqsb-right-sm"),A=z.width(),B=z.css("width");if(a(".jqsb-right-bg").length)var C=a(".jqsb-right-bg"),D=C.width(),E=C.css("width");a(".jqsb-toggle-left").on("click",function(b){g(b,a(this)),c("left")}),a(".jqsb-toggle-right").on("click",function(b){g(b,a(this)),c("right")}),o.on("click",function(b){h.autoClose&&(p||x)&&(g(b,a(this)),e("left"),e("right"))}),this.toggle=c,this.close=e,this.open=d,this.destroy=function(a){"left"===a&&p&&(i&&e("left"),setTimeout(function(){p.remove(),p=!1},400)),"right"===a&&x&&(j&&e("right"),setTimeout(function(){x.remove(),x=!1},400))},function(){o&&(p&&("sidebar-turn"===h.leftMode&&u&&r?(i=!0,"jqsb-left-bg"===h.leftTurnShow?(o.css("marginLeft",w),p.width(w),r.hide(),k=!0):(o.css("marginLeft",t),p.width(t),u.hide(),m=!0)):"container-offset"===h.leftMode&&i?d("left"):"sidebar-offset"===h.leftMode&&(p.css("marginLeft","-"+q).addClass("sidebar-mode"),i&&d("left"))),x&&("sidebar-turn"===h.rightMode&&C&&z?(j=!0,"jqsb-right-bg"===h.rightTurnShow?(o.css("marginRight",E),x.width(E),z.hide(),l=!0):(o.css("marginRight",B),x.width(B),C.hide(),n=!0)):"container-offset"===h.rightMode&&j?d("right"):"sidebar-offset"===h.rightMode&&(x.css("marginRight","-"+y).addClass("sidebar-mode"),j&&d("right"))))}()}}(jQuery);