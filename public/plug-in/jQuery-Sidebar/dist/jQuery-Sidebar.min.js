/**
 *  jQuery-Sidebar.js
 *  Version: 1.0.0
 *  http://github.com/gavin66/jQuery-Sidebar
 */
 !function(a){"use strict";a.jqSidebar=function(b){function A(a){"left"===a&&k&&(d&&p&&m?f?C("left"):h&&B("left"):d?C("left"):B("left")),"right"===a&&s&&(e&&x&&u?g?C("right"):i&&B("right"):e?C("right"):B("right"))}function B(a){var b=1;k&&"left"===a&&("sidebar-turn"!==c.rightMode&&(e&&(b=400),C("right")),h?D("turn",[m,p],"left",q,function(){f=!0,h=!1}):"container-offset"===c.leftMode?setTimeout(function(){D("offset",[j],"",l,function(){d=!0})},b):"sidebar-offset"===c.leftMode&&setTimeout(function(){D("offset",[k],"",l,function(){d=!0})},b)),s&&"right"===a&&("sidebar-turn"!==c.leftMode&&(d&&(b=400),C("left")),i?D("turn",[u,x],"right",y,function(){g=!0,i=!1}):"container-offset"===c.rightMode?setTimeout(function(){D("offset",[j],"","-"+t,function(){e=!0})},b):"sidebar-offset"===c.rightMode&&setTimeout(function(){D("offset",[s],"","-"+t,function(){e=!0})},b))}function C(a){k&&"left"===a&&(f?D("turn",[p,m],"left",n,function(){f=!1,h=!0}):"container-offset"===c.leftMode?D("offset",[j],"","0px",function(){d=!1}):"sidebar-offset"===c.leftMode&&D("offset",[k],"","0px",function(){d=!1})),s&&"right"===a&&(g?D("turn",[x,u],"right",v,function(){g=!1,i=!0}):"container-offset"===c.rightMode?D("offset",[j],"","0px",function(){e=!1}):"sidebar-offset"===c.rightMode&&D("offset",[s],"","0px",function(){e=!1}))}function D(a,b,c,d,e){"turn"===a?"left"===c?b[0].stop().fadeOut(200,function(){j.dequeue().animate({marginLeft:d},300),k.stop().animate({width:d},300,function(){b[1].stop().fadeIn(200,function(){e()})})}):"right"===c&&b[0].stop().fadeOut(200,function(){j.dequeue().animate({marginRight:d},300),s.stop().animate({width:d},300,function(){b[1].stop().fadeIn(200,function(){e()})})}):"offset"===a&&(b[0].css("transform","translate( "+d+" )"),e())}function E(a){a.stopPropagation(),a.preventDefault()}var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,c=a.extend({leftMode:"container-offset",rightMode:"container-offset",leftTurnShow:"jqsb-left-bg",rightTurnShow:"jqsb-right-bg",sideActive:"",autoClose:!0},b),d="left"===c.sideActive?1:0,e="right"===c.sideActive?1:0,f=!1,g=!1,h=!1,i=!1;a(".jqsb-container").length&&(j=a(".jqsb-container")),a(".jqsb-left").length&&(k=a(".jqsb-left"),l=k.css("width")),a(".jqsb-left-sm").length&&(m=a(".jqsb-left-sm"),n=m.width(),o=m.css("width")),a(".jqsb-left-bg").length&&(p=a(".jqsb-left-bg"),q=p.width(),r=p.css("width")),a(".jqsb-right").length&&(s=a(".jqsb-right"),t=s.css("width")),a(".jqsb-right-sm").length&&(u=a(".jqsb-right-sm"),v=u.width(),w=u.css("width")),a(".jqsb-right-bg").length&&(x=a(".jqsb-right-bg"),y=x.width(),z=x.css("width")),a(".jqsb-toggle-left").on("click",function(b){E(b,a(this)),A("left")}),a(".jqsb-toggle-right").on("click",function(b){E(b,a(this)),A("right")}),j.on("click",function(b){c.autoClose&&(k||s)&&(E(b,a(this)),C("left"),C("right"))}),this.toggle=A,this.close=C,this.open=B,this.destroy=function(a){"left"===a&&k&&(d&&C("left"),setTimeout(function(){k.remove(),k=!1},400)),"right"===a&&s&&(e&&C("right"),setTimeout(function(){s.remove(),s=!1},400))},function(){j&&(k&&("sidebar-turn"===c.leftMode&&p&&m?(d=!0,"jqsb-left-bg"===c.leftTurnShow?(j.css("marginLeft",r),k.width(r),m.hide(),f=!0):(j.css("marginLeft",o),k.width(o),p.hide(),h=!0)):"container-offset"===c.leftMode&&d?B("left"):"sidebar-offset"===c.leftMode&&(k.css("marginLeft","-"+l).addClass("sidebar-mode"),d&&B("left"))),s&&("sidebar-turn"===c.rightMode&&x&&u?(e=!0,"jqsb-right-bg"===c.rightTurnShow?(j.css("marginRight",z),s.width(z),u.hide(),g=!0):(j.css("marginRight",w),s.width(w),x.hide(),i=!0)):"container-offset"===c.rightMode&&e?B("right"):"sidebar-offset"===c.rightMode&&(s.css("marginRight","-"+t).addClass("sidebar-mode"),e&&B("right"))))}()}}(jQuery);